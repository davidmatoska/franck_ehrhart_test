# Automatically generated on 2020-08-18 UTC from https://codemagic.io/app/5f399856177fb13e28c26b69/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZPN2I4T2ItT2ZVR0szQkh5SEY5bmJKaF9TS0VHMTEtTWJGdnhzbElFZVpENzlrUzdHdDJrY0ZsT0lDZmlKUGFEcC1kQlZpckhTOHFYWWgxeTdxNk9wZVJnMldPMlBiX0xqM3VRTmxBOFg4aE5QWXk1Qkg4bE5WazNxa2lxZ0w2V3Q0SlFmVmNLMXlCcXd6dkhXMk8wVm5aNkVJVXhPdXpPME95WDBRWHFXTHR4djhEZHpEcF82Q21VMkFvVlB1S2VsVWZrbUdLNnNGcXFLdDdBZGd5U3RuWEExOUZ3LXI4RjMzN0xQdkwyM0dRMDFCUUdHTkxpZURKc0NnT1k5Z0g5WDBuMk45ZDAzOVNrZXFfTnlPMUZzcGh5ekxsdUJER0N5VTRQQkJPVHppUW5BcXd5TkFlRTAwb3dCMDlPbjhzRlJJX01BTDRGeHRKUUpRcXJjYkh3cnQyNzI4U2dqYlExVFpUQ05HUmw2YjNlTVlSeEs0SkhId2hMSTdYbkwzNDh5VDZPSnktLUsxLWVxM3RkcVozdGlQY2tTZFdTaWNnMDE4bGtUbUc3Q2pvM0ZKbnlMN2ltWnpKU2djRDdROVk0ZDdVYzJnZXJWaGNJNmZ2Ml8tdEVsdEt5cDN4b0M1WkROYW52VlJzVkNuYjJKclhLcE1YckJpLS1DVzBaQ3RNczR3dm9NR0lLLWUtZ21zczYtUmRMX3lRU21EWFFZeTR5UUllM1NQTkUyNzJCVUxuVHZfQk5BZ3pLU2xJWlhwVENaUnAwUDIyZ19mT3d4aEUyYXpzWHdzUUdMejFCZ0lFSmx2eVZlWWViYkFDY3B3c2lITHBEd0pxc2s5N2pqNXh0VUY0SnluaFNqSVdFZTZPY3JaRUFCQ2xRRDlfcVgtX1NtbXdnU2l1dVA5cUdnLWF3ZlAtbkVqb2xsclI1a2Y4OEpWNXFSY3pwemc5LTZVbGQ0U0RlRS1Pa0NmTTlZM0JGNHlDMVdrNVhGWjFGemRST2RLQlE1bkxob1djcnlIaUxXUWZBR005b2Ytdk15YXBKaFV2Z09fOU0xNW5fSzNoaXdpa29NcUlvUkNaZXFKTWRicUpland1bGhFR3J4dGhvUGFUUG5SaGR0bkQ1WmVfLWdBWFF1dDJ2dDVRRmQzbXN5Z1pKamplVi11cEIyM3Vxa3JIZXJNcHdCTllCaHFMSzFPa3NiNm9ZWWozZDFlTk9tSXJCN21ETUVVRjZuaWxxd2NFS0FZZ0hYRUxHZ2dEX09tX1dDdWx4SGlhOU5pUGIteFlQSDhVWUljTHE2c05Ia3hwV1Y2YjJ3V2hSSUt2el9BaXVmMWxfVTVXb281aTNkekh4NXJoZ1Z3cF9VRUs5TkZrTjhZU0gxbmhKZWNFRWtKZ29yb2xuWjlMOHVqWERhNW5qUVZJaUJpdThtdUl2djFiMkd0dUUzWFdlWU5pTXZEOWVqZHBibVBRcFBqMzJieG9ZSUpSUTBnZ0pBa2VOWTNPNUcyZGVEMmFUUlo1VDJRSTBPcmlRSjMzS0pHQkFoZ2hxNU9iMm9VWVctVWl3YlgtRE01cF90N1U5dHQxNVpMX3hYQVZJMFNOUWFiQjRPTGtocjB1UjZja0RBWUhJSzQ3WExKMXc5bV9EWkFkbnV2eFNSSnBDajdudlRyYURNMmUwT0puU1I5OTBNQ0ZiSThXUFIxSmJ4U3JOTndxT3JuTHhndjQxUnlXbUJOMm9SckV2ZVdEbk1TZ2lPa2xfdWtFNEs0VmlEV3hLZjNuMS1iUklMXzZ4UlNISW9RaHkta1FEVTZNUlQ1WWFELVhnT3lYOW1ROTJwOWt3ZjNwR0N5djlTLTB4Zy1wZnRfV0VCVkR5dV9CY2l2endLdzBsQzZYWGtvU0J4b1c5bkdRcHZRWkNPUXNKMzZheFBNaEhwU25DemFEMHFFc01mOGotT01tMWJXOFdnRzZVWlphdGRpYjZYa2Z1NEtfeTBhdEFTWWZDWjRER1JBV2FMdDJwY19WWGFPRV9jTUx6eF9TMWlhcEt4UGlVM1gzdDlMY2trZkVJdHNzXzBJQ3ZwWGFZbjQyX1FGU0ZzbTFIb09GUWZYaVBVXzdMZDEwTUExeGdNV1lFTUM4Q0FDdWFHWEw4YTdydXN0dVdmdnZOZ1Jha0NxemhQa3o0b3lGbUhIVTVsQnJKdlA0bVZvWmRYeGNobHc0OGx1RTQ2YTZxX2pScEFsYkxiZjd6QXhaRnZKT0hqVzBKdjdQc2w3Q1BjVy1ZcWdqZWp2RHUweVl1bWpqZHRSeDMtTVZsUlczekx5UGFRZ0tkTWY5THFNOU1XUnFnN2JLenBfM0thM1hSbWN3ekJMUDllcmtFbDhvalZlVF91X1hqc1daWFBzcloxMm1YeG1yZjFEU0xwUDQxSWxDSG80ZlgtUHFERzJlbVA1VDQtTmd2MlktUlZCMnA0SXRZSngyX1VjRi1pU3BHbHRBRjJTcTNEdWQyLXBkRHh6T2dVbkZSMno2ZHNYVW42LUFVVUFiV3k0RkJUTzVvV1ExTk9EZFh4QnEwOG83TEp4YzdVQmNUelpxcjJoaFY4TDZWYlFFbVNwOGtDNFFBOXdZTW5NREhQc2p1VVFNWW9xUlRLS0tqLWFTUmdhVkpVNEhucTd4UWdaV09WeUQ3NzNoanBDNjNmdWpHYzNzX1hDdzQ3OW9XNE5aOGo1bzgycmdRRXg5VjlZYTU3YWthdHJJa3IxbWtsVTRRal9ScjRMcUxVQk1ySnlXMk5BdnZ2b2N1QnF2Y3JLZk5sTU1mbG4xbjVVdjhGQjRZWEFnS0pDd2liYWNjNWxmYldEV3NBUG1nakljNTRrTnVrcXdLSmpaQUI2NGN3bnQwaEVOR2pCSUhUbEl0SVMxMGNwbnZ1YlQ2eHJ0blh0VGw2RWZTQTAwdzlIMEFuN19Ib1VOSWJOc3YwV2ctc2dPVk9oUUQ0TExwYTRlb2lDLXJDODhOOENfVlgzeFBYZS1pczkyalJ3MGlQMThVSmNnR2F5RkxveThmbU5NZDBQYjFMbnUtX24yaHRWdzV4aTJKZUxIRDQ1NFZNUmVG)
        APP_STORE_CONNECT_ISSUER_ID: Encrypted(Z0FBQUFBQmZPN2I4bXlnNmgyZklncl85MG9zUXFIM2JNOVNPaFBkTDNxR3JyNFFCRWFNTHJIMnhDOFR6dWhYamE0YlNvUHVtM0xuWktNcEE4OFd6dWd2QnFSd2tkWkVvOHFQb01iSTdkVldBTnV2cUlQZjNZWmlLcHpnQ2RtelNEQjN4X2F3bnludXQ=)
        APP_STORE_CONNECT_KEY_IDENTIFIER: Encrypted(Z0FBQUFBQmZPN2I4Mm5vM0dQczE3bnlJVG1OdnV4S3Q2Ynd3QW1UZFgxV3Bodk5IT3hPQkFTTXFxU1otTy12MkdfeUVJeHRYa2M0RVdEbU5rMzdmZnloWm9yUk9naDRMN2c9PQ==)
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZPN2I4bUl2dVAwM3Q4Qmdydy1KY1pwam1sV25xTDNIR2dna0MwLXRVZHhLYkFBZ0dMSkJzREZRTk0tMHFCZXhuZlFMQ1ZUSHo5bG9iSzVod1g3d0duSVFVWEpjYlNxNXl2NUNESTFaV2ZSREYzaHV0YUQtd0JubTY0eGF5RmFHNXFCMkNJR0Zid2JqY0dld2xGd1hUVGVvaGFzSHYzc0pHNkVEb1F1anFheUV5M05yemg5UnpmUDhNSUlNQ2tTXzI0cXY3R3lGdGpfOEJWakVGdmt4WHpNMUxJbUE0cHZ0bEhDM1ZoeWxRa0xXLW9mY1U3cmhWeXkxWi1QSFptU0hpeXotbzQtVDRoZnRCZnZ5MkJLejFKMEN4TF91c0ZPSFp0QURkcnJZamZ4UHVidV96SHNKemZqTWV3OFNfNjhGVWJ3alM1VkptaHhFZ0U5cUJKWEJPdVlBbVRUSGtmS09vams4dFF0VXBQWlNxb19oaEc2aTl1Z0xYSVB1aktLZjhvbWliRXg4YTM5blNxRkRjeDZwWXkyUWVDWmpOdGstT3VSaW9fZ3NyaEttNlU5dz0=)
      flutter: stable
      xcode: latest
      cocoapods: default
    scripts:
      - cd . && flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "$(xcode-project detect-bundle-id)"
        --type IOS_APP_STORE --create
      - keychain add-certificates
      - cd . && flutter build ios --release --no-codesign
      - xcode-project use-profiles
      - cd . && xcode-project build-ipa --workspace "ios/Runner.xcworkspace" --scheme
        "Runner"
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - david.matoska@gmail.com